
서블릿
====

### 서블릿이 하는 일

1. URL 매핑
-> 서블릿 컨테이너가 클라이언트(사용자)로부터 URl 요청을 받았을때
어떠한 서블릿 클래스로 넘겨줄지 매핑해주는 설정
과거 웹개발에서는 개발자가 직접 서블릿을 생성했었음
-> 스프링 프레임워크 등장 후에는 DispatcherServlet 클래스를 통해
과거 개발자가 한일을 스프링이 대신 처리
2. 필터 설정 적용
-> 요청이 들어가기 전에 그리고 최종응답전에
공통적으로 수행되어야할 기능을 구현해주는 설정
즉 필터 부분은 여러가지 서블릿 컨테이너 관련 공통처리를 진행한다

### 클라이언트 요청에 따른 서블릿 구동

1. DispatcherServlet 로드 및 스프링 컨테이너 생성(메모라에 로딩)
- DispatcherServlet은 스프링에서 미리 만들어둔 클래스

DispatcherServlet 을 구동시키면서 초기화 파라미터로 servlet-context.xml파일을
넘겨주며 시작하고 서블릿은 servlet-context.xml의 설정대로 동작한다
(필요시 xml파일을 추가해 파라미터로 추가하여 다른설정들을 적용할 수 있다)

- 서블릿 컨테이너를 생성해 구동에 필요한 핸들러와 컨트롤러등의 객체를 가진다
(만약 여러개의 서블릿을 사용한다면 각자 하나씩 가져간다 )
1. servlet-context.xml의 설정대로 기능분배
- URL이 매핑된 컨트롤러 클래스를 찾아 요청을 넘겨주는 설정
- css, js, img 등을 스태틱 리소스(정적 리소스) 라고 얘기한다
리소스 경로 설정을 통해 컨트롤러에서 분배하는것이 아니라
클라이언트(사용자)가 직접 가져가는 구조
- 리소스 매핑을 통해 설정된 영역은 외부접근이 가능한 영역
즉 리소스 매핑이 진행되지않은 폴더에 정적 리소스를 넣게되면
인식할 수 없음
1. 뷰 리졸버(view resolver)
- 컨트롤러 클래스의 메서드가 요청을 처리한 후에 뷰 이름으로
리턴을 진행한다
- 리턴된 뷰 이름은 다시 서블릿이 받아서 처리하는데
이것을 담당하는 객체를 뷰 리졸버라 부른다
- 초기화 파라미터를 개발자가 직접 설정하기위해
bean 객체를 통해 제공하는 형태로 세팅되어있음
- 기본설정으로 뷰 페이지 네임이 들어오면 prefix + 리턴문자열 + suffix의
조합으로 사용하는것이 일반적

JSP(Java Server Page) / 확장자가 JSP
-> 자바를 통해 웹을 조금더 쉽게 다룰수있도록 해주는 자바의 확장기능
-> html문서안에 자바언어를 삽입해 사용할 수 있도록 해주는 것

서블릿(일반적인 자바 클래스)
JSP + 서블릿 = 자바로 웹 프로젝트를 진행하기위해 만들어진 도구
-> 자바와 유사하지만 좀더 쉽게 웹을 다룰 수 있는 도구

was: 프로젝트와 서버환경을 만들어 동작시키는 기능을 제공하는 미들웨어
was는 웹 서버와는 다른 개념

기존웹서버는 필요한 페이지마다 복잡한 로직을 통해 모든페이지를
미리 준비해야하는 단점이 있다 또한 복잡한 로직이 들어있는 페이지를
모두다 사용자에게 전송해야하는 문제점또한 존재
-> 효율적 웹서비스구성을 위해 WAS의 개념탄생
Web Server vs WAS
웹서버는 사용자가 요청하는 페이지를 단순하게 리턴만 진행
was는 사용자의 요청내용을 받아 짜여진 로직대로 처리후
웹페이지를 직접 생성해 사용자에게 응답해주는 형태

### 서블릿 컨테이너 추가설명

- JSP와 서블릿을 만들고 실행하는 규칙과
- 그외의 웹 서비스 규칙을 추가로 가지고 있음
- 서블릿과 JSP를 구현하는 기능

서블릿: JAVA EE에서 제공하는 서블릿 클래스를 상속받은 클래스
동적인 웹 페이지를 만들때 사용하는 자바 기반의 WAP 기술

### 서블릿 컨텍스트 추가설명

- 서블릿컨텍스트는 프로젝트당 하나만 있는 객체지만
프로젝트 단위 내의 모든 JSP, 서블릿에서 공유되는 객체
